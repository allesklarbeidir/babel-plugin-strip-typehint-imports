{"version":3,"sources":["../src/index.js"],"names":["DEFAULT_TEXT","plugin","name","visitor","ImportDeclaration","path","state","node","options","opts","trailingComments","comments","filter","comment","loc","start","line","end","value","trim","text","length","remove"],"mappings":";;;;;;AAAA,IAAMA,eAAe,gBAArB;;eAEe,uBAAO;AACpB,MAAMC,SAAS;AACbC,UAAM,wBADO;AAEbC,aAAS;AACPC,uBADO,6BACWC,IADX,EACiBC,KADjB,EACwB;AAAA,YACtBC,IADsB,GACdF,IADc,CACtBE,IADsB;AAAA,YAEhBC,OAFgB,GAELF,KAFK,CAEtBG,IAFsB;AAG7B,YAAI,CAACF,KAAKG,gBAAV,EAA4B;AAC5B,YAAMC,WAAWJ,KAAKG,gBAAL,CACdE,MADc,CACP;AAAA,iBAAWC,QAAQC,GAAR,CAAYC,KAAZ,CAAkBC,IAAlB,KAA2BT,KAAKO,GAAL,CAASG,GAAT,CAAaD,IAAnD;AAAA,SADO,EAEdJ,MAFc,CAEP;AAAA,iBACNC,QAAQK,KAAR,CAAcC,IAAd,QAA0BX,QAAQY,IAAR,IAAgBpB,YAA1C,CADM;AAAA,SAFO,CAAjB;;AAKA,YAAIW,SAASU,MAAT,GAAkB,CAAtB,EAAyB;AACvBhB,eAAKiB,MAAL;AACD;AACF;AAbM;AAFI,GAAf;AAkBA,SAAOrB,MAAP;AAED,C","sourcesContent":["const DEFAULT_TEXT = 'typehints-only';\n\nexport default api => {\n  const plugin = {\n    name: 'strip-typehint-imports',\n    visitor: {\n      ImportDeclaration(path, state) {\n        const {node} = path;\n        const {opts: options} = state;\n        if (!node.trailingComments) return;\n        const comments = node.trailingComments\n          .filter(comment => comment.loc.start.line === node.loc.end.line)\n          .filter(comment =>\n            comment.value.trim() === (options.text || DEFAULT_TEXT));\n\n        if (comments.length > 0) {\n          path.remove();\n        }\n      }\n    }\n  };\n  return plugin;\n  \n};\n"],"file":"index.js"}